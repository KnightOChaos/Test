function getDropdownDirection(e,t){e=e.getBoundingClientRect(),t=t.offsetHeight||200;return window.innerHeight-e.bottom<t&&t<e.top?"up":"down"}function updateEmptyState(e){e.textContent.trim()?e.parentElement.classList.remove("empty-label"):e.parentElement.classList.add("empty-label")}function initMarketo(){var e="links-disabling",o=jQuery("[data-"+e+"]"),t=o.data(e),a=!0,s="d-none",n=jQuery(".header"),r=jQuery("#wpadminbar");function l(e){e.preventDefault(),jQuery(t).modal("show")}window.MktoForms2&&(MktoForms2.whenReady(function(t){function e(){jQuery(".mktoFormRow").each(function(){var e=jQuery(this);e.find(".mktoPlaceholder").length?e.addClass(s):e.find(".mktoFieldDescriptor").length&&e.hasClass(s)&&e.removeClass(s)})}jQuery(window).trigger("resize"),bootstrapForms(),e(),jQuery(".mktoFormRow select, .mktoFormRow input, .mktoFormRow textarea").on("change",function(){e(),setTimeout(function(){jQuery(window).trigger("resize")},50)}),o&&t.onSuccess(function(e,t){return a=!1,o.off("click","a:not([data-disabling-abort])",l),!1}),t.onValidate(function(e){e||t.getFormElem().each(function(){var t=jQuery(this);setTimeout(function(){var e;offset=t.find(".mktoError").parents(".mktoFormRow").offset().top,n.length&&!r.length?offset-=n.outerHeight():n.length&&r.length&&(offset=offset-n.outerHeight()-r.outerHeight()),e=offset,jQuery("html, body").animate({scrollTop:e},1e3)},100)})})}),a)&&o.on("click","a:not([data-disabling-abort])",l)}function bootstrapForms(){var t=document.querySelectorAll(".mktoFormRow");for(let e=0;e<t.length;e++)t[e].classList.add("form-group");var o=document.querySelectorAll(".mktoFormRow input");for(let e=0;e<o.length;e++)o[e].classList.add("form-control");customSelects(),customMultiSelects()}function customSelects(){document.querySelectorAll("select:not([multiple])").forEach(c=>{if(!c.classList.contains("customized")){c.classList.add("customized"),c.style.display="none";let s=document.createElement("div");s.className="custom-select-wrapper",s.tabIndex=0,s.setAttribute("role","combobox"),s.setAttribute("aria-haspopup","listbox"),s.setAttribute("aria-expanded","false");var e=document.createElement("div");e.className="custom-select-display";let n=document.createElement("span");n.className="custom-select-label";var t=c.options[c.selectedIndex],t=(n.textContent=t?t.text:"",document.createElement("span"));t.className="custom-select-arrow",e.appendChild(n),e.appendChild(t);let r=document.createElement("ul"),a=(r.className="custom-select-options",r.setAttribute("role","listbox"),-1),l="",i;Array.from(c.options).forEach((t,o)=>{let a=document.createElement("li");a.textContent=t.text,a.dataset.value=t.value,a.setAttribute("role","option"),a.tabIndex=-1,a.addEventListener("click",e=>{e.stopPropagation(),c.selectedIndex=o,n.textContent=t.text,r.classList.remove("open"),s.setAttribute("aria-expanded","false"),setTimeout(()=>{r.classList.remove("drop-up")},200),c.dispatchEvent(new Event("change"))}),a.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||a.click()}),r.appendChild(a)}),s.addEventListener("click",()=>{var e;r.classList.contains("open")?(r.classList.remove("open"),s.setAttribute("aria-expanded","false"),setTimeout(()=>{r.classList.remove("drop-up")},200)):(e=getDropdownDirection(s,r),r.classList.toggle("drop-up","up"===e),r.classList.add("open"),s.setAttribute("aria-expanded","true"))}),s.addEventListener("keydown",e=>{var t=r.querySelectorAll("li"),o=t.length-1;switch(e.key){case"ArrowDown":return e.preventDefault(),r.classList.add("open"),s.setAttribute("aria-expanded","true"),void t[a=a+1>o?0:a+1].focus();case"ArrowUp":return e.preventDefault(),r.classList.add("open"),s.setAttribute("aria-expanded","true"),void t[a=a-1<0?o:a-1].focus();case"Enter":case" ":return e.preventDefault(),void(r.classList.contains("open")&&0<=a?t[a].click():(r.classList.toggle("open"),s.setAttribute("aria-expanded",r.classList.contains("open"))));case"Escape":return r.classList.remove("open"),void s.setAttribute("aria-expanded","false")}if(1===e.key.length&&/^[a-zA-Z0-9]$/.test(e.key)){l+=e.key.toLowerCase(),clearTimeout(i),i=setTimeout(()=>{l=""},500);for(let e=0;e<t.length;e++)if(t[e].textContent.toLowerCase().startsWith(l)){t[e].focus(),a=e;break}}}),s.appendChild(e),s.appendChild(r),c.parentNode.insertBefore(s,c.nextSibling)}}),[".custom-select-wrapper",".custom-select-display",".custom-select-options"].forEach(e=>{document.querySelectorAll(e).forEach(e=>{e.classList.remove("js-acc-hidden")})})}function customMultiSelects(){document.querySelectorAll("select[multiple]").forEach(e=>{if(!e.classList.contains("customized")){e.classList.add("customized");let r=e.getAttribute("aria-label")||e.getAttribute("data-label")||(o=document.querySelector(`label[for="${e.id}"]`))&&Array.from(o.childNodes).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent.trim()).join(" ").trim()||e.options[0]?.text||"Select options";let t=document.createElement("div");t.className="custom-select-wrapper multi",t.tabIndex=0,t.setAttribute("role","combobox"),t.setAttribute("aria-haspopup","listbox"),t.setAttribute("aria-expanded","false");var o=document.createElement("div");o.className="custom-select-display";let l=document.createElement("span");l.className="custom-select-label",l.textContent=r;var a=document.createElement("span");a.className="custom-select-arrow",o.appendChild(l),o.appendChild(a);let i=document.createElement("ul");i.className="custom-select-options",i.setAttribute("role","listbox"),Array.from(e.options).forEach(a=>{if(!a.disabled){var e=a.text,s=e.split(" - ")[0],n=document.createElement("li");n.className="dropdown-item",n.dataset.small=s,n.setAttribute("role","option"),n.tabIndex=-1;let t=document.createElement("input");t.type="checkbox",t.value=a.value,t.checked=!1,a.selected=!1,t.style.marginRight="6px";s=document.createElement("span");s.className="multi-option-text",s.textContent=e,n.appendChild(t),n.appendChild(s);let o=()=>{var e=Array.from(i.querySelectorAll("input:checked")).map(e=>e.parentElement.dataset.small);l.textContent=0<e.length?e.join(", "):r};t.addEventListener("change",e=>{e.stopPropagation(),a.selected=t.checked,o()}),n.addEventListener("click",e=>{e.stopPropagation(),e.target!==t&&(t.checked=!t.checked,a.selected=t.checked,o())}),i.appendChild(n)}}),t.addEventListener("click",()=>{var e=i.classList.toggle("open");t.setAttribute("aria-expanded",e)}),t.appendChild(o),t.appendChild(i),e.style.display="none",e.parentNode.insertBefore(t,e.nextSibling)}})}let observer=new MutationObserver(e=>{e.forEach(e=>{e.addedNodes.forEach(e=>{var t;1===e.nodeType&&(t=e.querySelectorAll?.("select:not([multiple])")||[],"SELECT"===e.tagName&&!e.multiple||0<t.length)&&customSelects()})})});observer.observe(document.body,{childList:!0,subtree:!0}),initMarketo(),document.addEventListener("click",e=>{document.querySelectorAll(".custom-select-wrapper").forEach(t=>{if(!t.contains(e.target)){let e=t.querySelector(".custom-select-options");e.classList.remove("open"),t.setAttribute("aria-expanded","false"),setTimeout(()=>{e.classList.remove("drop-up")},400)}})})